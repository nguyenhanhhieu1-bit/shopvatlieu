<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Có Gì Bán Đó</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(120deg,#0f2027,#203a43,#2c5364);
  color:#fff;
}
header{
  padding:20px;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header h1{margin:0;color:#00e5ff;}
nav a{
  color:white;
  margin-left:20px;
  text-decoration:none;
  font-weight:500;
}
.banner{
  height:250px;
  background:url("https://images.unsplash.com/photo-1607082350899-7e105aa886ae") center/cover;
}
.container{
  max-width:1200px;
  margin:auto;
  padding:30px;
}
.search-box input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.product{
  background:rgba(255,255,255,.12);
  border-radius:15px;
  padding:15px;
  text-align:center;
}
.img-box{
  height:220px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.product img{
  max-width:100%;
  max-height:100%;
}
.product p{color:#ff5252;font-weight:600;}
.product button{
  padding:10px;
  border:none;
  border-radius:10px;
  background:#00e5ff;
  cursor:pointer;
}

/* TRANG CHI TIẾT */
#detailPage{
  position:fixed;
  inset:0;
  background:#0f2027;
  display:none;
  overflow:auto;
  padding:30px;
}
.detail-box{
  max-width:900px;
  margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
}
.detail-box img{
  width:100%;
  border-radius:15px;
}
.qty-box{
  display:flex;
  align-items:center;
  gap:10px;
}
.qty-box button{
  padding:6px 14px;
}
.buy-box{
  display:flex;
  gap:15px;
  margin-top:15px;
}
.buy-box button{
  flex:1;
  padding:12px;
  font-weight:600;
}
.close{
  margin-bottom:20px;
  cursor:pointer;
  color:#00e5ff;
}

/* CART */
.cart{
  background:rgba(0,0,0,.4);
  padding:20px;
  border-radius:15px;
  margin-top:40px;
}
.cart table{
  width:100%;
  border-collapse:collapse;
}
.cart th,.cart td{
  padding:10px;
  border-bottom:1px solid rgba(255,255,255,.2);
  text-align:center;
}
.cart input{
  width:60px;
  padding:5px;
}
footer{
  text-align:center;
  padding:20px;
  background:rgba(0,0,0,.5);
  margin-top:40px;
}
</style>
</head>

<body>

<header>
  <h1>Có Gì Bán Đó</h1>
  <nav>
    <a href="#" onclick="goHome()">Trang chủ</a>
    <a href="#products">Sản phẩm</a>
    <a href="#cart">Giỏ hàng</a>
    <a href="#contact">Liên hệ</a>
  </nav>
</header>

<div class="banner"></div>

<div class="container" id="products">
<h2>Sản phẩm</h2>

<div class="search-box">
  <input id="searchInput" placeholder="Tìm kiếm sản phẩm" onkeyup="searchProduct()">
</div>

<div class="products">

<div class="product" data-name="diệt slime suốt 300 năm tập 1">
  <div class="img-box" onclick="openDetail('Diệt slime suốt 300 năm – Tập 1','hinhtruyen.jpg',40000)">
    <img src="hinhtruyen.jpg">
  </div>
  <h3>Diệt slime suốt 300 năm – Tập 1</h3>
  <p>40.000đ</p>
  <button onclick="addCart('Diệt slime suốt 300 năm – Tập 1',40000)">Mua</button>
</div>

<div class="product" data-name="diệt slime suốt 300 năm tập 2">
  <div class="img-box" onclick="openDetail('Diệt slime suốt 300 năm – Tập 2','hinhtruyen1.jpg',40000)">
    <img src="hinhtruyen1.jpg">
  </div>
  <h3>Diệt slime suốt 300 năm – Tập 2</h3>
  <p>40.000đ</p>
  <button onclick="addCart('Diệt slime suốt 300 năm – Tập 2',40000)">Mua</button>
</div>

<div class="product" data-name="diệt slime suốt 300 năm tập 3">
  <div class="img-box" onclick="openDetail('Diệt slime suốt 300 năm – Tập 3','hinhtruyen2.jpg',40000)">
    <img src="hinhtruyen2.jpg">
  </div>
  <h3>Diệt slime suốt 300 năm – Tập 3</h3>
  <p>40.000đ</p>
  <button onclick="addCart('Diệt slime suốt 300 năm – Tập 3',40000)">Mua</button>
</div>

<div class="product" data-name="hinhomo 5.5">
  <div class="img-box" onclick="openDetail('OMO 5.5kg','hinhomo5.5.jpg',240000)">
    <img src="hinhomo5.5.jpg">
  </div>
  <h3>OMO 5.5kg</h3>
  <p>240.000đ</p>
  <button onclick="addCart('OMO 5.5kg',240000)">Mua</button>
</div>

<div class="product" data-name="sữa ngôi sao">
  <div class="img-box" onclick="openDetail('Sữa ngôi sao phương nam 1284g','hinhsuangoisao.jpg',64000)">
    <img src="hinhsuangoisao.jpg">
  </div>
  <h3>Sữa ngôi sao phương nam 1284g</h3>
  <p>64.000đ</p>
  <button onclick="addCart('Sữa ngôi sao phương nam 1284g',64000)">Mua</button>
</div>

<div class="product" data-name="truyện tập 4">
  <div class="img-box" onclick="openDetail('Your Name','hinhtruyen3.jpg',60000)">
    <img src="hinhtruyen3.jpg">
  </div>
  <h3>Your Name</h3>
  <p>60.000đ</p>
  <button onclick="addCart('Your Name',60000)">Mua</button>
</div>

</div>

<div class="cart" id="cart">
<h2>Giỏ hàng</h2>
<table>
<thead>
<tr>
<th>Sản phẩm</th>
<th>Giá</th>
<th>Số lượng</th>
<th>Ngày đặt</th>
</tr>
</thead>
<tbody id="cartList"></tbody>
</table>
<h3 id="totalPrice">Tổng: 0đ</h3>
</div>

<div class="cart" id="contact">
<h2>Liên hệ</h2>
<p>Zalo / SĐT: 0123 456 789</p>
</div>

</div>

<footer>© 2026 – Có Gì Bán Đó</footer>

<!-- TRANG CHI TIẾT -->
<div id="detailPage">
<div class="close" onclick="closeDetail()">← Quay lại</div>
<div class="detail-box">
  <img id="dImg">
  <div>
    <h2 id="dName"></h2>
    <p>Đã bán: 0</p>
    <h3 id="dPrice"></h3>
    <p>Phí vận chuyển: 20.000đ</p>
    <p>✔ An tâm mua hàng<br>✔ Trả hàng miễn phí 15 ngày</p>

    <div class="qty-box">
      <button onclick="changeQty(-1)">-</button>
      <span id="qty">1</span>
      <button onclick="changeQty(1)">+</button>
    </div>

    <div class="buy-box">
      <button onclick="addDetailCart()">Thêm vào giỏ hàng</button>
      <button style="background:#ff5252;color:white">Mua ngay</button>
    </div>
  </div>
</div>
</div>

<script>
let cart=[];
let currentProduct={name:"",price:0};

function goHome(){
  closeDetail();
  window.scrollTo({top:0,behavior:"smooth"});
}

function openDetail(name,img,price){
  dName.innerText=name;
  dImg.src=img;
  dPrice.innerText=price.toLocaleString()+"đ";
  qty.innerText=1;
  currentProduct={name,price};
  detailPage.style.display="block";
}

function closeDetail(){
  detailPage.style.display="none";
}

function changeQty(n){
  let q=parseInt(qty.innerText)+n;
  if(q<1) q=1;
  qty.innerText=q;
}

function addDetailCart(){
  for(let i=0;i<parseInt(qty.innerText);i++){
    addCart(currentProduct.name,currentProduct.price);
  }
  alert("Đã thêm vào giỏ hàng");
}

function addCart(name,price){
  let item=cart.find(p=>p.name===name);
  if(item) item.qty++;
  else cart.push({name,price,qty:1,date:new Date().toLocaleDateString("vi-VN")});
  renderCart();
}

function renderCart(){
  let total=0;
  cartList.innerHTML="";
  cart.forEach(p=>{
    total+=p.price*p.qty;
    cartList.innerHTML+=`
      <tr>
        <td>${p.name}</td>
        <td>${p.price.toLocaleString()}đ</td>
        <td>${p.qty}</td>
        <td>${p.date}</td>
      </tr>`;
  });
  totalPrice.innerText="Tổng: "+total.toLocaleString()+"đ";
}

function searchProduct(){
  let k=searchInput.value.toLowerCase();
  document.querySelectorAll(".product").forEach(p=>{
    p.style.display=p.dataset.name.includes(k)?"":"none";
  });
}
</script>

<script>
// ===== FIX NÚT MUA Ở DANH SÁCH SẢN PHẨM (KHÔNG +2) =====
document.querySelectorAll(".product button").forEach(btn=>{
  btn.addEventListener("click",function(e){
    e.stopPropagation();
    alert("Đã thêm sản phẩm vào giỏ hàng");
  });
});
</script>

<script>
// ===== FIX NÚT MUA NGAY Ở TRANG CHI TIẾT =====
document.addEventListener("DOMContentLoaded",()=>{
  const buyNowBtn=document.querySelector(".buy-box button[style]");
  if(buyNowBtn){
    buyNowBtn.addEventListener("click",()=>{
      let q=parseInt(qty.innerText);
      for(let i=0;i<q;i++){
        addCart(currentProduct.name,currentProduct.price);
      }
      alert("Mua hàng thành công");
      closeDetail();
      window.scrollTo({top:0,behavior:"smooth"});
    });
  }
});
</script>

</body>
</html>
